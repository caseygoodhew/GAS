<section id="module-movements" class="module-content">
  
  <div id="movements-sections">
    <div class="section-box">
      <div class="section-header"><h3>Income</h3></div>
      <p class="section-desc">Incoming cash flows such as salary, bonuses, or RSUs.</p>
      <div id="section-income-list"></div>
      <button class="btn btn-secondary" onclick="predictorMovementsModule.addMovement('income')">+ Income</button>
    </div>

    <div class="section-box">
      <div class="section-header"><h3>Regular Movements</h3></div>
      <p class="section-desc">Regular transfers between your accounts, like monthly savings or standing orders.</p>
      <div id="section-regular-list"></div>
      <button class="btn btn-secondary" onclick="predictorMovementsModule.addMovement('regular')">+ Movement</button>
    </div>

    <div class="section-box">
      <div class="section-header"><h3>Mortgage</h3></div>
      <p class="section-desc">Track debt repayment, interest rates, and annual lump sum overpayment logic.</p>
      <div id="section-mortgage-list"></div>
      <button class="btn btn-secondary" onclick="predictorMovementsModule.addMovement('mortgage')">+ Mortgage</button>
    </div>

    <div class="section-box">
      <div class="section-header"><h3>Life Events</h3></div>
      <p class="section-desc">Significant one-off movements like planned home repairs, university tuition, etc..</p>
      <div id="section-life-event-list"></div>
      <button class="btn btn-secondary" onclick="predictorMovementsModule.addMovement('life-event')">+ Event</button>
    </div>
  </div>

  <template id="tpl-income-row">
    <div class="movement-item">
      <div class="grid-income-row1">
        <input type="text" class="field-label" placeholder="Income Source">
        <input type="number" step="0.01" class="field-amount" placeholder="0.00">
        <select class="field-to-account" title="Destination Account"></select>
        <div class="acc-col-action">
          <button class="btn-icon field-delete" title="Remove">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="grid-movement-row3 indent-row">
        <input type="date" class="field-start" title="Start Date">
        <input type="date" class="field-end" title="End Date (Optional)">
        <select class="field-recurrence"></select>
      </div>
    </div>
  </template>

  <template id="tpl-movement-row">
    <div class="movement-item">
      <div class="grid-movement-row1">
        <input type="text" class="field-label" placeholder="Transaction Label">
        <input type="number" step="0.01" class="field-amount" placeholder="0.00">
        <div class="acc-col-action">
          <button class="btn-icon field-delete" title="Remove">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="grid-movement-row2 indent-row">
        <select class="field-from-account" title="Source Account"></select>
        <div class="arrow-separator">→</div>
        <select class="field-to-account" title="Destination Account"></select>
      </div>
      <div class="grid-movement-row3 indent-row">
        <input type="date" class="field-start" title="Start Date">
        <input type="date" class="field-end" title="End Date (Optional)">
        <select class="field-recurrence"></select>
      </div>
    </div>
  </template>

  <template id="tpl-mortgage-row">
    <div class="mortgage-item">
      <div class="grid-mortgage-row1">
        <input type="number" step="0.01" class="field-principal" placeholder="Opening Loan Amount">
        <input type="number" class="field-years" placeholder="Yrs">
        <input type="number" step="0.01" class="field-rate" placeholder="Rate %">
        <div class="acc-col-action">
          <button class="btn-icon field-delete" title="Remove">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="grid-mortgage-row2 indent-row">
        <input type="date" class="field-start" title="Start Date">
        <input type="date" class="field-end" title="End Date">
      </div>
      <div class="mortgage-dynamic-rows indent-row"></div>
      <div class="grid-mortgage-summary indent-row">
        <div class="summary-block">
          <span class="summary-label">Payment</span>
          <span class="summary-value field-summary-pay">£0.00</span>
        </div>
        <div class="summary-block">
          <span class="summary-label">Capital</span>
          <span class="summary-value field-summary-cap">£0.00</span>
        </div>
        <div class="summary-block">
          <span class="summary-label">Interest</span>
          <span class="summary-value field-summary-int">£0.00</span>
        </div>
        <div class="summary-block">
          <span class="summary-label">Closing</span>
          <span class="summary-value field-summary-close">£0.00</span>
        </div>
      </div>
    </div>
  </template>

</section>
