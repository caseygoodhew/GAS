<section id="module-setup" class="module-content">
  <div class="section-box">
    <h3>Account Owners</h3>
    <div id="owners-list"></div> 
    <div class="inline-input-group">
      <input type="text" id="new-owner-name" placeholder="Enter name..." onkeypress="predictorSetupModule.handleOwnerKeyPress(event)">
      <button class="btn btn-secondary" onclick="predictorSetupModule.addOwner()">+ Person</button>
    </div>
  </div>

  <div class="section-box">
    <h3>Accounts</h3>
    <div class="input-group">
      <label for="opening-date">Balance as of:</label>
      <input type="date" id="opening-date" onchange="predictorSetupModule.updateOpeningDate(this.value)">
    </div>
    
    <div class="account-header">
      <div>Account Name</div>
      <div>Owner</div>
      <div>Currency</div>
      <div>Balance</div>
      <div>AER %</div>
      <div></div> 
    </div>

    <div id="accounts-list"></div> 
    
    <button class="btn btn-secondary" style="margin-top: 12px;" onclick="predictorSetupModule.addAccount()">+ Account</button>
  </div>


  <template id="owner-row-template">
    <div class="list-item">
      <span class="owner-name"></span>
      <button class="btn-icon" title="Remove Person">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        </svg>
      </button>
    </div>
  </template>

  <template id="account-row-template">
    <div class="account-row">
      <div class="acc-col">
        <input type="text" class="field-name" placeholder="e.g. Savings">
      </div>
      
      <div class="acc-col">
        <select class="field-owner">
          <option value="" disabled selected>Select Owner...</option>
        </select>
      </div>
      
      <div class="acc-col">
        <select class="field-currency">
          <option value="GBP">GBP</option>
          <option value="USD">USD</option>
        </select>
      </div>
      
      <div class="acc-col">
        <input type="number" step="0.01" class="field-balance">
      </div>
      
      <div class="acc-col">
        <input type="number" step="0.01" class="field-aer">
      </div>
      
      <div class="acc-col-action">
        <button class="btn-icon field-delete" title="Remove Account">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
        </button>
      </div>
    </div>
  </template>
</section>
